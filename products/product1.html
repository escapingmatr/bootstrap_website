<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <link rel="stylesheet" href="../css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />

    <style>
      .swiper-pagination-bullet {
        background-color: grey; /* Inactive indicator color */
      }

      .swiper-pagination-bullet-active {
        background-color: rgb(67, 67, 67); /* Active indicator color */
      }

      .swiper-container {
        overflow: hidden;
        position: relative;
      }

      .swiper-wrapper {
        display: flex;
        transition: transform 0.3s;
      }

      .swiper-slide {
        width: 100%;
      }
    </style>

    <title>Product Page</title>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent fixed-top">
      <div class="container">
        <!-- Left-aligned "Home" link -->
        <a class="navbar-brand" href="../index.html">INTENTIONS</a>

        <!-- Right-aligned links using ml-auto class -->
        <ul class="navbar-nav d-flex flex-row align-items-center">
          <li class="nav-item">
            <a class="nav-link text-dark" href="../views/shop.html">Shop</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark ml-3" href="../views/cart.html">
              <i class="fas fa-shopping-bag"></i>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Add a spacer div to create a gap below the navbar -->
    <div class="spacer"></div>

    <div class="container mt-5">
      <div class="row">
        <!-- Product Image and Information Layout -->
        <div class="col-lg-6 order-lg-1">
          <div class="swiper-container">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img
                  src="../images/je-01-23-su/je-01-23-su-front.jpeg"
                  class="d-block w-100"
                  alt="je-01-21-su-front"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="../images/je-01-23-su/je-01-23-su-back.jpeg"
                  class="d-block w-100"
                  alt="je-01-21-su-back"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="../images/je-01-23-su/je-01-23-su-detail.jpeg"
                  class="d-block w-100"
                  alt="je-01-21-su-detail"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="../images/je-01-23-su/je-01-23-su-styled.jpeg"
                  class="d-block w-100"
                  alt="je-01-21-su-styled"
                />
              </div>
            </div>

            <!-- Pagination (optional) -->
            <div class="swiper-pagination"></div>
          </div>
        </div>

        <div class="col-lg-6 order-lg-2">
          <div class="spacer-2"></div>
          <h2>Straight Denim</h2>
          <p class="text-muted">Price: $350.00</p>
          <div class="mb-3">
            <select class="form-control" id="sizeSelect1">
              <option value="" disabled selected>Choose Your Size</option>
              <option>Small</option>
              <option>Medium</option>
              <option>Large</option>
              <option>X-Large</option>
            </select>
          </div>
          <div class="form-group d-flex">
            <button
              id="addToBagButton1"
              class="btn btn-dark text-white mb-3"
              data-product-id="je-01-23-su"
              data-name="Straight Denim"
              data-price="350.00"
              data-image="../images/je-01-23-su/je-01-23-su-front.jpeg"
            >
              Add to Bag
            </button>
          </div>
          <h4>Description</h4>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <h4>Materials</h4>
          <p>Material 1, Material 2</p>
          <h4>Care Instructions</h4>
          <p>Machine wash cold. Tumble dry low.</p>
        </div>
      </div>
    </div>

    <!-- Include Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <script>
      // swiper
      var mySwiper = new Swiper('.swiper-container', {
        slidesPerView: 1,
        spaceBetween: 0,
        loop: true,
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
        },
        autoplay: {
          delay: 5000, // 5000ms = 5 seconds
          disableOnInteraction: true, // Allows manual navigation without stopping autoplay
        },
      });

      // size dropdown
      const sizeSelect1 = document.getElementById('sizeSelect1');

      // "Add to Bag" button
      const addToBagButton1 = document.getElementById('addToBagButton1');

      addToBagButton1.addEventListener('click', function () {
        const name = addToBagButton1.getAttribute('data-name');
        const price = addToBagButton1.getAttribute('data-price');
        const size = document.getElementById('sizeSelect1').value;
        const image = addToBagButton1.getAttribute('data-image');

        // Create an object to store the item details
        const item = {
          name: name,
          price: price,
          size: size,
          image: image,
        };

        // Retrieve the existing items from local storage
        let items = JSON.parse(localStorage.getItem('intentions-cart')) || [];

        // Add the new item to the cart array
        items.push(item);

        // Store the updated cart array in local storage
        localStorage.setItem('intentions-cart', JSON.stringify(items));

        alert('Item added to your shopping bag.');

        // You can also redirect the user to the cart page if needed
        // window.location.href = '../views/cart.html';
      });
    </script>
  </body>
</html>
